!function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?module.exports=factory():"function"==typeof define&&define.amd?define(factory):(global=global||self).reframe=factory()}(this,function(){return function(target,maxHeight){var frames="string"==typeof target?document.querySelectorAll(target):target,c="js-reframe";"length"in frames||(frames=[frames]);for(var i=0;i<frames.length;i+=1){var padding,div,divStyles,frame=frames[i];-1!==frame.className.split(" ").indexOf(c)||-1<frame.style.width.indexOf("%")||(padding=(frame.getAttribute("height")||frame.offsetHeight)/(frame.getAttribute("width")||frame.offsetWidth)*100,maxHeight&&(padding=Math.min(padding,maxHeight)),(div=document.createElement("div")).className=c,(divStyles=div.style).position="relative",divStyles.width="100%",divStyles.paddingTop=padding+"%",(divStyles=frame.style).position="absolute",divStyles.width="100%",divStyles.height="100%",divStyles.left="0",divStyles.top="0",frame.parentNode.insertBefore(div,frame),frame.parentNode.removeChild(frame),div.appendChild(frame))}}});